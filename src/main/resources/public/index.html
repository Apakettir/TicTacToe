<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello world</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- load bootstrap for nicer ui -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <style type="text/css">
    th, td{
      text-align: center;
      vertical-align: middle;
      font-size: 90px;
      width: 100px;
      height: 100px;
      border: 1px solid black;
    }
    #tictactoe{
     width: 310px;
     margin: 100px auto;
    }
    .btn{
      width: 90%;
      height: 90%;
    }
    </style>
  </head>
  <body>


    <form method="post" action="/add" class="form-inline" role="form">
      <div id="tictactoe"> 
        <table>
            <thead></thead>
            <tr>
              <td ><input id="A1" class="btn" type= "button" name="a1" value="" onclick="markbox(this, 11)"></td>
              <td ><input id="A2" class="btn" type= "button" name="a2" value="" onclick="markbox(this, 12)"></td>
              <td ><input id="A3" class="btn" type= "button" name="a3" value="" onclick="markbox(this, 13)"></td>
            </tr>
            <tr>
              <td ><input id="B1" class="btn" type= "button" name="b1" value="" onclick="markbox(this, 21)"></td>
              <td ><input id="B2" class="btn" type= "button" name="b2" value="" onclick="markbox(this, 22)"></td>
              <td ><input id="B3" class="btn" type= "button" name="b3" value="" onclick="markbox(this, 23)"></td>
            </tr>
            <tr>
              <td ><input id="C1" class="btn" type= "button" name="c1" value="" onclick="markbox(this, 31)"></td>
              <td ><input id="C2" class="btn" type= "button" name="c2" value="" onclick="markbox(this, 32)"></td>
              <td ><input id="C3" class="btn" type= "button" name="c3" value="" onclick="markbox(this, 33)"></td>
          </tr>
        </table>  
      </div>
    </form>
    <p id="test" class="test"></p>

    <!-- load jquery -->
   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <!-- use ajax to submit form, retreive the result and display on the page -->
    <script type="text/javascript">
    var cell;
    var symbol = 1;
    function markbox(cell, e){
      document.getElementById("test").innerHTML=e;
      if (cell.value == ""){
        cell.value=symbol;
        $.get("add", {e: e}, function( data ) {
          console.log(data);
        })

        if(symbol == 1)
          symbol = 0;
        else 
          symbol = 1;
      }
      else {
        alert("Occupied");
      }
    }
    $(document).ready(function() {
      var form = $('form');
      form.button(function() {
        var A1 = $("#A1").val();
        
        $.ajax({
          type: form.attr('method'),
          url: form.attr('action'),
          data: A1
        }).done(function(x) {
          $('#test').html("jessir").attr('class', 'alert alert-success');
        });
        
      });
    });
    </script>
  </body>
</html>
